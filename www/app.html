<!DOCTYPE html>
<html ng-app="testResults">

<head lang="en">
  <meta charset="utf-8">
  <meta name="description" content="SDA Test Results">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Language" content="en">

  <title>Test results</title>
  <link rel="stylesheet" href="css/spinkit.css"/>
  <link rel="stylesheet" href="components/concise/dist/concise.min.css"/>
  <link rel="stylesheet" href="css/app.css"/>
</head>

<body ng-controller="MainCtrl" ng-cloak>
<div tabindex="0" class="dropdown button button--affix button--sm" ng-cloak>
  Test type: {{testTypeFilter.testType || 'All'}} <span class="affix">&raquo;</span>
  <ul class="dropdown-content">
    <li ng-repeat="testFilterType in testFilterTypes" href ng-click="setTestTypeFilter(testFilterType.value)">
      <span data-hover="{{testFilterType.name}}"
            ng-class="{'filter-active' : (testTypeFilter.testType === testFilterType.value)}">{{testFilterType.name}}</span>
    </li>
  </ul>
</div>

<table class="table--hoverRow table--full table--borderHorizontal">
  <thead>
    <tr>
      <th scope="col" class="hide--small">TYPE</th>
      <th scope="col" class="hide--extra-small">BUILD</th>
      <th scope="col">PROCESS</th>
      <th scope="col">ENVIRONMENT</th>
      <th scope="col">DATE</th>
      <th scope="col">T/P/F</th>
    </tr>
  </thead>

  <tbody>
    <tr ng-repeat="testResult in testResults | orderBy:'-timestamp' | filter:testTypeFilter" ng-cloak
        class="row" ng-class="{'failed' : (testResult.statistic.failed > 0 || testResult.statistic.broken > 0)}">
      <td class="hide--small">{{testResult.testType}}</td>
      <td class="hide--extra-small" title="{{testResult.buildNumber}}">{{testResult.buildNumber.split('-')[0].trim()}}</td>
      <td>{{testResult.processName}}</td>
      <td>{{testResult.envName}}</td>
      <td>{{getDate(testResult.timestamp)}}</td>
      <td><a href="/results/{{testResult.timestamp}}/#/">
        {{testResult.statistic.total}}/{{testResult.statistic.passed}}/{{testResult.statistic.failed + testResult.statistic.broken}}</a> 
      </td>
    </tr>
  </tbody>
</table>

<div class="sk-three-bounce" ng-hide="loaded">
    <div class="sk-child sk-bounce1"></div>
    <div class="sk-child sk-bounce2"></div>
    <div class="sk-child sk-bounce3"></div>
</div>

<script src="js/polyfills.js"></script>
<script src="components/angularjs/angular.js"></script>
<script src="libs/xdate.js"></script>
<script src="js/app.js"></script>
</body>

</html>
